
# Calculadora de Custo de Viagem com IA

![Screenshot da Aplica√ß√£o](https://i.imgur.com/your-screenshot-url.png) <!-- Substitua pelo URL de um screenshot da sua aplica√ß√£o -->

Uma calculadora de custo de viagem inteligente que utiliza a API do Google Gemini para fornecer estimativas detalhadas de rotas, incluindo dist√¢ncia, dura√ß√£o, consumo de combust√≠vel, custos de ped√°gio e custo total. O projeto √© constru√≠do com React, TypeScript, e Supabase para persist√™ncia de dados na nuvem.

## ‚ú® Funcionalidades

-   **C√°lculo Inteligente de Rota:** Insira a origem, destino e paradas intermedi√°rias.
-   **Estimativas Detalhadas:** Obtenha dist√¢ncia, dura√ß√£o, consumo e custos de combust√≠vel.
-   **Custo de Ped√°gio:** Inclus√£o de custos de ped√°gio na estimativa total.
-   **C√°lculo de Ida e Volta:** Dobre os c√°lculos para uma viagem completa.
-   **Custo Total:** Resumo claro do custo total da viagem (combust√≠vel + ped√°gios).
-   **Salvar Viagens:** Armazene suas rotas calculadas na nuvem com Supabase.
-   **Carregar e Excluir:** Gerencie facilmente suas viagens salvas.
-   **Download em PDF:** Exporte um resumo profissional da sua viagem em formato PDF.
-   **Acesso Seguro:** Tela de login simples para proteger o acesso √† calculadora.

## üöÄ Tecnologias Utilizadas

-   **Frontend:** [React](https://react.dev/), [TypeScript](https://www.typescriptlang.org/), [Tailwind CSS](https://tailwindcss.com/)
-   **IA Generativa:** [Google Gemini API](https://ai.google.dev/)
-   **Backend & Base de Dados:** [Supabase](https://supabase.com/) (PostgreSQL)
-   **Gera√ß√£o de PDF:** [jsPDF](https://github.com/parallax/jsPDF)
-   **Ambiente de Desenvolvimento:** [Vite](https://vitejs.dev/) (impl√≠cito pelo ambiente do AI Studio)

## üîß Configura√ß√£o do Ambiente

Siga estes passos para configurar e rodar o projeto localmente ou para fazer o deploy.

### 1. Pr√©-requisitos

-   Uma conta no [Google AI Studio](https://aistudio.google.com/) para obter uma chave da API do Gemini.
-   Uma conta no [Supabase](https://supabase.com/) para criar sua base de dados.

### 2. Configura√ß√£o do Supabase

1.  Crie um novo projeto no Supabase.
2.  Navegue at√© o **SQL Editor** no seu painel.
3.  Copie e execute o [script SQL de cria√ß√£o de tabelas](#-script-sql-para-o-supabase) para criar a tabela `trips` com as permiss√µes corretas.

### 3. Vari√°veis de Ambiente

As chaves de API e outras credenciais s√£o gerenciadas por vari√°veis de ambiente para garantir a seguran√ßa. Para publicar na Vercel, voc√™ precisar√° configurar essas vari√°veis no painel do seu projeto.

Crie um arquivo `.env.example` na raiz do seu projeto para refer√™ncia das chaves necess√°rias.

## üöÄ Deploy na Vercel

Este projeto est√° pronto para ser publicado na Vercel.

1.  Conecte seu reposit√≥rio do GitHub √† Vercel.
2.  A Vercel deve detectar automaticamente que √© um projeto Vite.
3.  V√° para **Settings > Environment Variables** no seu projeto Vercel e adicione as tr√™s vari√°veis de ambiente a seguir, usando os valores do seu `.env.example`:
    -   `VITE_API_KEY` (Importante: O prefixo `VITE_` √© obrigat√≥rio)
    -   `VITE_SUPABASE_URL`
    -   `VITE_SUPABASE_ANON_KEY`
4.  Clique em **Deploy**.

---

### üìú Script SQL para o Supabase

Use este script no **SQL Editor** do seu projeto Supabase para configurar a base de dados.

```sql
-- 1. Cria a tabela 'trips' para armazenar os dados das viagens
CREATE TABLE public.trips (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  origin TEXT NOT NULL,
  destination TEXT NOT NULL,
  stops TEXT[],
  fuel_efficiency TEXT NOT NULL,
  fuel_price TEXT NOT NULL,
  details JSONB NOT NULL,
  "timestamp" BIGINT NOT NULL, -- Corresponde ao Date.now() do JavaScript
  is_round_trip BOOLEAN NOT NULL DEFAULT FALSE,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- Adiciona um coment√°rio para explicar a coluna "timestamp"
COMMENT ON COLUMN public.trips."timestamp" IS 'Unix timestamp em milissegundos, gerado por Date.now()';

-- 2. Ativa a Seguran√ßa em N√≠vel de Linha (Row Level Security - RLS)
-- Esta √© uma etapa de seguran√ßa crucial no Supabase.
ALTER TABLE public.trips ENABLE ROW LEVEL SECURITY;

-- 3. Cria as pol√≠ticas de acesso para a chave an√¥nima
-- Permite que qualquer pessoa com a chave p√∫blica (anon key) possa gerenciar os dados.
CREATE POLICY "Allow public read access" ON public.trips
  FOR SELECT USING (TRUE);

CREATE POLICY "Allow public insert access" ON public.trips
  FOR INSERT WITH CHECK (TRUE);

CREATE POLICY "Allow public delete access" ON public.trips
  FOR DELETE USING (TRUE);
```